[General]
# å¹¶éæ‰€æœ‰ä»£ç†æœåŠ¡å™¨éƒ½æ”¯æŒ UDP è½¬å‘ï¼Œå½“ä¸€ä¸ªUDPä¼šè¯å°è¯•ä½¿ç”¨ä¸€ä¸ªä¸æ”¯æŒUDPè½¬å‘çš„ä»£ç†æœåŠ¡å™¨æ—¶ï¼ŒSurgeé»˜è®¤ä¼šå›é€€è‡³ç›´è¿ã€‚å¯ä¿®æ”¹ä¸ºé˜»æ­¢ä»¥é¿å…æ½œåœ¨çš„éšç§æ³„éœ²éšæ‚£ã€‚
udp-policy-not-supported-behaviour = reject

# è‡ªå®šä¹‰DNSæœåŠ¡å™¨
dns-server = 223.5.5.5, 223.6.6.6, 119.29.29.29, 114.114.114.114
# åŠ å¯†DNS
# encrypted-dns-server = https://dns.alidns.com/dns-query
# ä»£ç†è¯·æ±‚æœ¬åœ°DNSæ˜ å°„
use-local-host-item-for-proxy = false
# ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true

# ä»£ç†æ¥ç®¡ä¼˜å…ˆ
#compatibility-mode = 0
# å¢å¼ºç‰ˆWi-FiåŠ©ç†
wifi-assist = false
# æ··åˆç½‘ç»œ
all-hybrid = false
# æ¸¸æˆä¼˜åŒ–
udp-priority = false

# Internet æµ‹è¯• URL
internet-test-url = http://baidu.com
# ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 5

# GeoIPæ•°æ®åº“
#geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb

# IPv6
ipv6 = false
ipv6-vif = disabled


# å…è®¸ Wi-Fi è®¿é—®iOS
allow-wifi-access = false
# å…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—®
allow-hotspot-access = false
# HTTPä»£ç†æœåŠ¡ç«¯å£
wifi-access-http-port = 6152
# SOCKS5ä»£ç†æœåŠ¡ç«¯å£
wifi-access-socks5-port = 6153


# è¿œç¨‹æ§åˆ¶å™¨
#external-controller-access = æ­¤å¤„è®¾ç½®å¯†ç @127.0.0.1:6170
# å…è®¸ç”±Wi-Fiæ§åˆ¶å¼€è¿™é‡Œ
#external-controller-access = æ­¤å¤„è®¾ç½®å¯†ç @0.0.0.0:6170

# HTTP API ï¼† Web æ§åˆ¶å™¨
#http-api = æ­¤å¤„è®¾ç½®å¯†ç @127.0.0.1:6171
# å…è®¸ç”±WiFiæ§åˆ¶å¼€è¿™é‡Œ
#http-api = æ­¤å¤„è®¾ç½®å¯†ç @0.0.0.0:6171
# HTTPS
#http-api-tls = false
# Webæ§åˆ¶å™¨
#http-api-web-dashboard = false


# æ—¥å¿—ç­‰çº§
loglevel = notify
# åŒ…å«æ‰€æœ‰ç½‘ç»œè¯·æ±‚
include-all-networks = false
# åŒ…å«æœ¬åœ°ç½‘ç»œè¯·æ±‚
include-local-networks = false
# åŒ…å«APNS
include-apns = false
# åŒ…å«èœ‚çªæœåŠ¡
include-cellular-services = false

# æ˜¾ç¤ºæ‹’ç»é”™è¯¯çš„é¡µé¢
show-error-page-for-reject = true

# åŠ å¯†DNSè·Ÿéšå‡ºç«™æ¨¡å¼
encrypted-dns-follow-outbound-mode = false

# åŠ å¯†DNSè·³è¿‡è¯ä¹¦éªŒè¯
encrypted-dns-skip-cert-verification = false

# å…è®¸DNS-SVCB
allow-dns-svcb = false

# Hijack DNS Servers
hijack-dns = 8.8.8.8:53, 8.8.4.4:53

# Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com

# å°†TCPè¿æ¥è§†ä¸ºHTTPè¯·æ±‚
#force-http-engine-hosts = 

# å¯¹å‘å¾€80ä¸443ç«¯å£çš„TCPè¯·æ±‚è¿›è¡Œåè®®å—…æ¢ï¼Œä»¥å¼€å¯HTTP/HTTPSç›¸å…³é«˜çº§åŠŸèƒ½
#always-raw-tcp-hosts = 

# åè®®å—…æ¢æ—¶ï¼ŒHTTPæ ‡å¤´å‡ºç°å…³é”®å­—ï¼Œæ¢å¤ä¸ºåŸå§‹TCPå¤„ç†
#always-raw-tcp-keywords = 

# VIFåªèƒ½å¤„ç†TCPå’ŒUDPåè®®ï¼Œä½¿ç”¨æ­¤é€‰é¡¹ç»•è¿‡ç‰¹å®šIPèŒƒå›´ä»¥å…è®¸æ‰€æœ‰æµé‡é€šè¿‡
#tun-excluded-routes = 239.255.255.250/32

# VIFæ¥å£å°†è‡ªèº«å£°æ˜ä¸ºé»˜è®¤è·¯ç”±ï¼Œä½†ç”±äºWi-Fiæ¥å£çš„è·¯ç”±è¾ƒå°ï¼Œéƒ¨åˆ†æµé‡å¯èƒ½ä¸ä¼šç»è¿‡Surge VIFæ¥å£ï¼Œä½¿ç”¨æ­¤é€‰é¡¹æ·»åŠ è¾ƒå°çš„è·¯çº¿
#tun-included-routes = 192.168.1.12/32

# è·³è¿‡ä»£ç†
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local

# æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true

# ä»£ç†æµ‹è¯•UDPç¤ºèŒƒ
#proxy-test-udp = apple.com@8.8.8.8

# Surge HTTP ä»£ç†æœåŠ¡éœ€è¦èº«ä»½éªŒè¯
#wifi-access-http-auth = ç”¨æˆ·å:å¯†ç 





[Replica]
# éšè—Appleè¯·æ±‚
hide-apple-request = false
# éšè—å´©æºƒè¿½è¸ªå™¨è¯·æ±‚
hide-crash-reporter-request = true
# éšè—UDPä¼šè¯
hide-udp = false
# å…³é”®è¯è¿‡æ»¤å™¨
keyword-filter-type = false





[Proxy Group]
# æœºåœºä¸€ï¼š
æœºåœº1 = select, hidden=0, include-all-proxies=1, policy-path=æœºåœºé“¾æ¥1

# æœºåœºäºŒï¼š
æœºåœº2 = select, hidden=0, include-all-proxies=1, policy-path=æœºåœºé“¾æ¥2

# æœºåœºä¸‰ï¼š
æœºåœº3 = select, hidden=0, include-all-proxies=1, policy-path=æœºåœºé“¾æ¥3

# æ‰€æœ‰æœºåœºçš„èŠ‚ç‚¹åˆ—è¡¨ï¼Œæ‰‹é€‰èŠ‚ç‚¹
â˜ï¸All Nodes = select, hidden=0, include-other-group="æœºåœº1, æœºåœº2, æœºåœº3"

# æ‰€æœ‰æœºåœºçš„èŠ‚ç‚¹ â†’ è¿›è¡Œå›½å®¶åˆ†ç»„ï¼Œéšè—ã€‚é»˜è®¤ï¼šè‡ªåŠ¨é€‰æ‹©å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹
é¦™æ¸¯ = url-test, hidden=1, policy-regex-filter=(ğŸ‡­ğŸ‡°)|(æ¸¯)|(Hong)|(HK), include-other-group=â˜ï¸All Nodes
ç¾å›½ = url-test, hidden=1, policy-regex-filter=(ğŸ‡ºğŸ‡¸)|(ç¾)|(States)|(US), include-other-group=â˜ï¸All Nodes
æ—¥æœ¬ = url-test, hidden=1, policy-regex-filter=(ğŸ‡¯ğŸ‡µ)|(æ—¥)|(Japan)|(JP), include-other-group=â˜ï¸All Nodes
è·å…° = url-test, hidden=1, policy-regex-filter=(ğŸ‡³ğŸ‡±)|(è·)|(Holland)|(NL), include-other-group=â˜ï¸All Nodes
ä¿„ç½—æ–¯ = url-test, hidden=1, policy-regex-filter=(ğŸ‡·ğŸ‡º)|(ä¿„)|(Russia)|(RU), include-other-group=â˜ï¸All Nodes
å¾·å›½ = url-test, hidden=1, policy-regex-filter=(ğŸ‡©ğŸ‡ª)|(å¾·)|(Germany)|(DE), include-other-group=â˜ï¸All Nodes
æ³•å›½ = url-test, hidden=1, policy-regex-filter=(ğŸ‡«ğŸ‡·)|(æ³•)|(France)|(FR), include-other-group=â˜ï¸All Nodes
ç‘å£« = url-test, hidden=1, policy-regex-filter=(ğŸ‡¨ğŸ‡­)|(ç‘)|(CH), include-other-group=â˜ï¸All Nodes
è‹±å›½ = url-test, hidden=1, policy-regex-filter=(ğŸ‡¬ğŸ‡§)|(è‹±)|(UK), include-other-group=â˜ï¸All Nodes
ç‘å…¸ = url-test, hidden=1, policy-regex-filter=(ğŸ‡¸ğŸ‡ª)|(å…¸)|(SE), include-other-group=â˜ï¸All Nodes
ä¿åŠ åˆ©äºš = url-test, hidden=1, policy-regex-filter=(ğŸ‡§ğŸ‡¬)|(ä¿)|(BG), include-other-group=â˜ï¸All Nodes
å¥¥åœ°åˆ© = url-test, hidden=1, policy-regex-filter=(ğŸ‡¦ğŸ‡¹)|(å¥¥)|(AT), include-other-group=â˜ï¸All Nodes
çˆ±å°”å…° = url-test, hidden=1, policy-regex-filter=(ğŸ‡®ğŸ‡ª)|(çˆ±)|(IE), include-other-group=â˜ï¸All Nodes
åœŸè€³å…¶ = url-test, hidden=1, policy-regex-filter=(ğŸ‡¹ğŸ‡·)|(åœŸ)|(TR), include-other-group=â˜ï¸All Nodes
åŒˆç‰™åˆ© = url-test, hidden=1, policy-regex-filter=(ğŸ‡­ğŸ‡º)|(åŒˆ)|(HU), include-other-group=â˜ï¸All Nodes
éŸ©å›½ = url-test, hidden=1, policy-regex-filter=(ğŸ‡°ğŸ‡·)|(éŸ©)|(korea)|(KR), include-other-group=â˜ï¸All Nodes
å°æ¹¾ = url-test, hidden=1, policy-regex-filter=(ğŸ‡¨ğŸ‡³)|(å°)|(Tai)|(TW), include-other-group=â˜ï¸All Nodes
åŠ æ‹¿å¤§ = url-test, hidden=1, policy-regex-filter=(ğŸ‡¨ğŸ‡¦)|(åŠ )|(CA), include-other-group=â˜ï¸All Nodes
æ¾³å¤§åˆ©äºš = url-test, hidden=1, policy-regex-filter=(ğŸ‡¦ğŸ‡º)|(æ¾³)|(AU), include-other-group=â˜ï¸All Nodes
é˜¿è”é…‹ = url-test, hidden=1, policy-regex-filter=(ğŸ‡¦ğŸ‡ª)|(é…‹)|(UAE), include-other-group=â˜ï¸All Nodes
å°åº¦ = url-test, hidden=1, policy-regex-filter=(ğŸ‡®ğŸ‡³)|(å°)|(IN), include-other-group=â˜ï¸All Nodes
å°å°¼ = url-test, hidden=1, policy-regex-filter=(ğŸ‡®ğŸ‡©)|(å°¼)|(ID), include-other-group=â˜ï¸All Nodes
å·´è¥¿ = url-test, hidden=1, policy-regex-filter=(ğŸ‡§ğŸ‡·)|(å·´)|(BR), include-other-group=â˜ï¸All Nodes
é˜¿æ ¹å»· = url-test, hidden=1, policy-regex-filter=(ğŸ‡¦ğŸ‡·)|(é˜¿)|(AR), include-other-group=â˜ï¸All Nodes
æ™ºåˆ© = url-test, hidden=1, policy-regex-filter=(ğŸ‡¨ğŸ‡±)|(æ™º)|(CL), include-other-group=â˜ï¸All Nodes
æ–°åŠ å¡ = url-test, hidden=1, policy-regex-filter=(ğŸ‡¸ğŸ‡¬)|(æ–°)|(Singapore)|(SG), include-other-group=â˜ï¸All Nodes
æ„å¤§åˆ© = url-test, hidden=1, policy-regex-filter=(ğŸ‡®ğŸ‡¹)|(æ„)|(IT), include-other-group=â˜ï¸All Nodes

# è½¯ä»¶åˆ†æµ
TikTok = select, â˜ï¸All Nodes, Nexitally, Tag, bocchi, é¦™æ¸¯, æ—¥æœ¬, å°æ¹¾, éŸ©å›½, æ–°åŠ å¡, ç¾å›½
Instagram = select, â˜ï¸All Nodes, Nexitally, Tag, bocchi, é¦™æ¸¯, æ—¥æœ¬, å°æ¹¾, éŸ©å›½, æ–°åŠ å¡, ç¾å›½
Spotify = select, â˜ï¸All Nodes, Nexitally, Tag, bocchi, é¦™æ¸¯, æ—¥æœ¬, å°æ¹¾, éŸ©å›½, æ–°åŠ å¡, ç¾å›½
Telegram = select, â˜ï¸All Nodes, Nexitally, Tag, bocchi, é¦™æ¸¯, æ—¥æœ¬, å°æ¹¾, éŸ©å›½, æ–°åŠ å¡, ç¾å›½
YouTube = select, â˜ï¸All Nodes, Nexitally, Tag, bocchi, é¦™æ¸¯, æ—¥æœ¬, å°æ¹¾, éŸ©å›½, æ–°åŠ å¡, ç¾å›½
Netflix = select, â˜ï¸All Nodes, Nexitally, Tag, bocchi, é¦™æ¸¯, æ—¥æœ¬, å°æ¹¾, éŸ©å›½, æ–°åŠ å¡, ç¾å›½
Disney = select, â˜ï¸All Nodes, Nexitally, Tag, bocchi, é¦™æ¸¯, æ—¥æœ¬, å°æ¹¾, éŸ©å›½, æ–°åŠ å¡, ç¾å›½
GoogleCN = select, DIRECT, â˜ï¸All Nodes
Microsoft = select, DIRECT, â˜ï¸All Nodes
Apple = select, DIRECT, â˜ï¸All Nodes
Final = select, â˜ï¸All Nodes, DIRECT





[Rule]
# æ–°å¢å†…ç½®ç­–ç•¥ NO-HYBRIDï¼Œç­‰ä»·ä¸º NO-HYBRID = direct, hybrid=offï¼Œ// éƒ¨åˆ†æœåŠ¡ä¼šæ ¡éªŒè¯·æ±‚çš„æ¥æº IPï¼Œåœ¨å¼€å¯ hybrid æ—¶æœ‰å¯èƒ½å› ä¸ºè¯·æ±‚IPå˜åŒ–å¯¼è‡´æ— æ³•æ­£å¸¸ç™»å½•å’Œä½¿ç”¨ï¼ˆå¦‚æ‹›å•†é“¶è¡Œï¼‰ï¼Œå¯ä½¿ç”¨ NO-HYBRID å¯¹ç‰¹å®šè¯·æ±‚å•ç‹¬å…³é—­ All Hybrid
# DOMAIN-SUFFIX,cmbchina.com,NO-HYBRID

# HTTP3/QUIC åè®®åŸºäº UDPï¼Œéƒ¨åˆ†åœ°åŒº ISP æˆ–çº¿è·¯ UDP å®¹æ˜“å—åˆ°å¹²æ‰°æˆ–é™é€Ÿï¼Œå±è”½æ‰ä»¥é˜»æ­¢ HTTP 3 æµé‡çš„ UDP æµé‡ï¼Œå¼ºåˆ¶å›é€€åˆ° TCPã€‚REJECT-NO-DROP è¡¨ç¤ºä¸ä½¿ç”¨é»˜è®¤çš„è‡ªåŠ¨ä¸¢åŒ…é€»è¾‘ï¼Œè¿™æ · Surge æ¯æ¬¡éƒ½ä¼šè¿”å› ICMP Port Unreachableï¼Œåº”ç”¨ä¼šç«‹åˆ»å›é€€è€Œä¸æ˜¯ç­‰è¶…æ—¶
# AND,((PROTOCOL,UDP),(DEST-PORT,443)),REJECT-NO-DROP

# Blocking UDP Packets by Youtube and ins é˜»æ­¢youtubeå’Œinsçš„udpæ•°æ®åŒ…
# AND,((DOMAIN-SUFFIX,googlevideo.com),(DOMAIN-SUFFIX,gvt1.com),(DOMAIN-SUFFIX,cdninstagram.com),(PROTOCOL,UDP)),REJECT

#å±è”½ç¾å›¢åºŸå¼ƒåŸŸå
DOMAIN,metrics-picture.d.meituan.net,REJECT
DOMAIN,route-stats.d.meituan.net,REJECT
DOMAIN,maplocatesdksnapshot.d.meituan.net,REJECT
DOMAIN,al-log.d.meituan.net,REJECT
DOMAIN,babel-statistics-android.d.meituan.net,REJECT

# è§„åˆ™ä¿®æ­£
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/UnBan.list,DIRECT
# éšç§ä¿æŠ¤
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/Privacy.list,REJECT
# ååŠ«æŒ
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/Hijacking.list,REJECT

# GoogleCN
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/GoogleCN.list,GoogleCN
# Microsoft
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/Microsoft.list,Microsoft
# Apple
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/Apple.list,Apple

# Spotify
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/Spotify.list,Spotify
# YouTube
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/YouTube.list,YouTube
# Netflix
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/Netflix.list,Netflix
# Disney
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/DisneyPlus.list,Netflix
# TikTok
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/ovr/TikTok/TikTok.For.Surge.list,TikTok
# å›½å¤–åª’ä½“
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/ProxyMedia.list,â˜ï¸èŠ‚ç‚¹é€‰æ‹©

# Telegram
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/Telegram.list,Telegram
# Instagram
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/Instagram.For.Surge.list,Instagram
# ä»£ç†åˆ—è¡¨
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/ProxyGFWlist.list,â˜ï¸èŠ‚ç‚¹é€‰æ‹©

# å›½å†…ç›´è¿
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/ChinaDomain.list,DIRECT
# å›½å†…äº‘æœåŠ¡å‚å•†çš„ipæ®µ
RULE-SET,https://raw.githubusercontent.com/mikoycc/Storage/main/ChinaCompanyIp.list,DIRECT

# é˜²æ­¢åº”ç”¨å¾ªç¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
# å±€åŸŸç½‘åœ°å€
RULE-SET,LAN,DIRECT
# GeoIP
GEOIP,CN,DIRECT
# Final
FINAL,Final,dns-failed





[Host]
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188

# Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29





[MITM]
# CAè¯ä¹¦ä¿¡æ¯
ca-passphrase = 
ca-p12 = 

# è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
skip-server-cert-verify = true

# MITM over HTTP/2
h2 = true

# è‡ªåŠ¨å±è”½QUIC
auto-quic-block = true

# æŒ‡å®šè¦è§£å¯†çš„ä¸»æœºå
hostname = www.google.cn,-*snssdk.com, -*amemv.com





[URL Rewrite]
# Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302





[Script]
spotifyæ­Œè¯ç¿»è¯‘ = type=http-response,pattern=^https:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/,requires-body=1,binary-body-mode=1,max-size=0,script-path=https://raw.githubusercontent.com/mikoycc/Storage/main/ovr/SpotifyLyric/Spotify-Lyric.js,argument=appid=æ­¤å¤„å†™è‡ªå·±çš„&securityKey=æ­¤å¤„å†™è‡ªå·±çš„

å¿«çœ‹æ¼«ç”»ç­¾åˆ° = type=cron,cronexp=0 8 * * *,script-path=https://raw.githubusercontent.com/mikoycc/Storage/main/ovr/KuaiKan/Kuaikan.js

çˆ±å¥‡è‰ºç­¾åˆ° = type=cron,cronexp=0 9 * * *,timeout=120,script-path=https://raw.githubusercontent.com/mikoycc/Storage/main/ovr/IQiYi/iQIYI.js

ç¾å›¢ç­¾åˆ° = type=cron,cronexp=0 10 * * *,script-path=https://raw.githubusercontent.com/mikoycc/Storage/main/ovr/MeiTuan/meituan.js

#é˜¿é‡Œäº‘ç›˜ç­¾åˆ° = type=cron,cronexp=0 7 * * *,wake-system=1,script-path=https://raw.githubusercontent.com/mikoycc/Storage/main/ovr/ALiYunPan/aliYunPanCheckIn.js
é˜¿é‡Œäº‘ç›˜ç­¾åˆ° = type=cron, cronexp="0 7,11,17 * * *", script-path=https://raw.githubusercontent.com/mikoycc/Storage/main/ovr/ALiYunPan/aliyun.js, timeout=60, wake-system=1

